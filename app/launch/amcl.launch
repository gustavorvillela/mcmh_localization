<launch>

  <!-- Gazebo com mapa e TurtleBot -->
  <include file="$(find turtlebot3_gazebo)/launch/turtlebot3_world.launch" />
  <include file="$(find turtlebot3_bringup)/launch/turtlebot3_remote.launch" />

  <!-- Teleoperação do TurtleBot-->
  <include file="$(find turtlebot3_teleop)/launch/turtlebot3_teleop_key.launch" />

  <!-- Carregar mapa -->
  <arg name="map_file" default="$(find mcmh_localization)/maps/map_ttb_world.yaml"/>
  <node pkg="map_server" type="map_server" name="map_server" args="$(arg map_file)" />



  <!-- Nó do estimador baseado em MCMC-->
  <node name="amcl" pkg="amcl" type="amcl" output="screen" /> 

  <node name="pose_broadcaster" pkg="mcmh_localization" type="pose_broadcaster.py" output="screen" /> 

  <!-- RViz com visualização do mapa, robot e partículas -->
  <node pkg="rviz" type="rviz" name="rviz" args="-d $(find mcmh_localization)/rviz/mcmh_view.rviz" />
</launch>